{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/horse/Eth.vue?634a","webpack:///./src/views/horse/Eth.vue?a0fe","webpack:///./src/api/horseracing_eth.js","webpack:///./src/views/horse/Eth.vue?ec76","webpack:///./src/views/horse/Eth.vue","webpack:///./src/horse_eth.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","horse_eth","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Ethvue_type_script_lang_js_contract","settleContract","Ethvue_type_template_id_8a362cdc_render","_vm","this","_h","$createElement","_c","_self","attrs","id","ref","symbol","num","amount","minAmount","maxAmount","amountStep","balance","gas","betLoading","recordList","myRecordList","jackpotStart","jackpotEnd","state","loading","horseList","on","update:num","$event","update:amount","bet","betSubmit","ended","betEnd","addRecord","staticRenderFns","horseracing_eth_getGasPrice","io","horseracing_eth_getBetParams","_ref","betmask","_ref$modulo","modulo","address","method","url","params","horseracing_eth_settleBet","horseracing_eth_getRecord","horseracing_eth_getMyRecord","_ref2","horseracing_eth_getAmountParams","horseracing_eth_getVideoUrl","_ref3","winner","Ethvue_type_script_lang_js_","account","debug","components","Game","watch","fixAmount","computed","created","_created","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getRecord","getAmoutParams","stop","arguments","mounted","_mounted","_callee2","accounts","gasRes","_this","_context2","ethereum","$refs","showIntro","abrupt","setTimeout","networkVersion","selectedAddress","$warn","$t","$error","enable","catch","err","code","sent","getBalance","getMyRecord","gasPrice","contract","getJackpot","setInterval","methods","_getAmoutParams","_callee3","res","_context3","defaultAmount","step","_this2","web3","eth","then","utils","fromWei","_getJackpot","_callee4","_context4","jackpotSize","_this3","parse_float_default","isNaN","$nextTick","toFixed","getBetParams","_getBetParams2","_callee6","ready","_this4","_context6","_callee5","_context5","amountCache","numCache","v","settle","randomNumber","blockHash","hash","getResult","_getResult","_callee7","sha3Mod100","wins","_context7","getInfo","parse_int_default","toString","calcReward","_x","_x2","getVideo","_getVideo","_callee8","video","_context8","mapResultHorse","betMask","_x3","manualSettle","_manualSettle","_callee9","_context9","_x4","_x5","submitVerify","_betSubmit","_callee11","_this5","_context11","placeBet","commitLastBlock","commit","send","toWei","from","message","indexOf","once","_ref4","_callee10","error","event","_context10","console","log","_x6","_x7","mapBetHorse","_ref5","betNum","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","entries","done","_step$value","slicedToArray","item","return","prefixRecord","_update","formatDate","updatedAt","_wins","_link","concat","betTrx","_bet","_result","_getRecord2","_callee12","_this6","_context12","forEach","_getMyRecord2","_callee13","_this7","_context13","_this8","unshift","dateString","date","Date","getHours","getMinutes","replace","horse_Ethvue_type_script_lang_js_","component","componentNormalizer","Eth","Vue","config","productionTip","use","Notification","i18n","render","h","App","$mount"],"mappings":"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","file":"js/horse_eth.e8043538.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"horse_eth\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([6,\"chunk-vendors\",\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import \"core-js/modules/es6.regexp.replace\";\nimport _slicedToArray from \"/Users/shangbinbin/Documents/work/limitless_website/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _getIterator from \"/Users/shangbinbin/Documents/work/limitless_website/node_modules/@babel/runtime-corejs2/core-js/get-iterator\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport _parseInt from \"/Users/shangbinbin/Documents/work/limitless_website/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\nimport _parseFloat from \"/Users/shangbinbin/Documents/work/limitless_website/node_modules/@babel/runtime-corejs2/core-js/parse-float\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/shangbinbin/Documents/work/limitless_website/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getGasPrice, getBetParams as _getBetParams, settleBet, getRecord as _getRecord, getMyRecord as _getMyRecord, getAmountParams } from \"@/api/horseracing_eth\";\nimport web3 from '@/js/web3';\nimport { sliceNumber } from '@/js/utils';\nimport Game from './Game.vue';\nimport calcReward from '@/js/calcReward';\nimport { eth as getContract, ethSettle as getSettleContract } from \"@/js/contract\";\nimport { getVideoUrl } from '@/api/horseracing_eth';\nvar contract, settleContract;\nexport default {\n  data: function data() {\n    return {\n      num: 95,\n      balance: 0,\n      amount: 0.01,\n      gas: \"\",\n      betLoading: false,\n      account: \"\",\n      recordList: [],\n      myRecordList: [],\n      jackpotStart: 0,\n      jackpotEnd: 0,\n      minAmount: 0.01,\n      maxAmount: 10.02,\n      amountStep: 0.01,\n      result: {},\n      state: \"bet\",\n      loading: true,\n      horseList: [95, 75, 48, 38, 18, 10],\n      debug: true\n    };\n  },\n  components: {\n    Game: Game\n  },\n  watch: {\n    amount: function amount() {\n      this.fixAmount();\n    }\n  },\n  computed: {},\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.getRecord();\n              this.getAmoutParams();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      var accounts, gasRes;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(typeof window.ethereum === \"undefined\")) {\n                _context2.next = 3;\n                break;\n              }\n\n              this.$refs['app'].showIntro();\n              return _context2.abrupt(\"return\");\n\n            case 3:\n              setTimeout(function () {\n                if (window.ethereum.networkVersion != 1 && !_this.debug) {\n                  _this.$error(_this.$t('ax'), 5000);\n\n                  return;\n                }\n\n                if (!window.ethereum.selectedAddress) {\n                  _this.$warn(_this.$t('as'), 5000);\n                }\n              }, 1500); //获取账户余额\n\n              _context2.next = 6;\n              return window.ethereum.enable().catch(function (err) {\n                if (err.code == 4001) {\n                  _this.$warn(_this.$t('au'));\n                }\n\n                return null;\n              });\n\n            case 6:\n              accounts = _context2.sent;\n\n              if (!(accounts === null)) {\n                _context2.next = 9;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 9:\n              this.account = accounts[0];\n              this.getBalance();\n              this.getMyRecord(); //获取油费\n\n              _context2.next = 14;\n              return getGasPrice();\n\n            case 14:\n              gasRes = _context2.sent;\n              this.gas = gasRes.gasPrice;\n              contract = getContract(this.account);\n              settleContract = getSettleContract(this.account);\n              this.getJackpot();\n              setInterval(function () {\n                _this.getJackpot();\n              }, 10000);\n\n            case 20:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  methods: {\n    getAmoutParams: function () {\n      var _getAmoutParams = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return getAmountParams();\n\n              case 2:\n                res = _context3.sent;\n\n                if (!(res === null)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                this.amount = res.defaultAmount;\n                this.minAmount = res.defaultAmount;\n                this.maxAmount = res.maxAmount;\n                this.amountStep = res.step;\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getAmoutParams() {\n        return _getAmoutParams.apply(this, arguments);\n      }\n\n      return getAmoutParams;\n    }(),\n    getBalance: function getBalance() {\n      var _this2 = this;\n\n      web3.eth.getBalance(this.account).then(function (balance) {\n        _this2.balance = sliceNumber(web3.utils.fromWei(balance, \"ether\"));\n        _this2.loading = false;\n      });\n    },\n    getJackpot: function () {\n      var _getJackpot = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.jackpotStart = this.jackpotEnd;\n                _context4.next = 3;\n                return contract.methods.jackpotSize().call();\n\n              case 3:\n                res = _context4.sent;\n                this.jackpotEnd = sliceNumber(web3.utils.fromWei(res));\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getJackpot() {\n        return _getJackpot.apply(this, arguments);\n      }\n\n      return getJackpot;\n    }(),\n    fixAmount: function fixAmount() {\n      var _this3 = this;\n\n      var num = _parseFloat(this.amount);\n\n      if (isNaN(num)) {\n        this.amount = \"0.01\";\n      } else {\n        if (num < 0.01) {\n          num = 0.01;\n        } else if (num > 10.2) {\n          num = 10.2;\n        }\n\n        this.$nextTick(function () {\n          _this3.amount = num.toFixed(2);\n        });\n      }\n    },\n    getBetParams: function () {\n      var _getBetParams2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var _this4 = this;\n\n        var ready, params;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                ready =\n                /*#__PURE__*/\n                function () {\n                  var _ref = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee5() {\n                    var res;\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            _this4.amountCache = _this4.amount;\n                            _this4.numCache = _this4.num;\n                            _context5.next = 4;\n                            return _getBetParams({\n                              betmask: _this4.num,\n                              amount: _this4.amount,\n                              address: _this4.account\n                            });\n\n                          case 4:\n                            res = _context5.sent;\n\n                            if (!(res === null)) {\n                              _context5.next = 8;\n                              break;\n                            }\n\n                            _this4.betLoading = false;\n                            return _context5.abrupt(\"return\");\n\n                          case 8:\n                            return _context5.abrupt(\"return\", res);\n\n                          case 9:\n                          case \"end\":\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5);\n                  }));\n\n                  return function ready() {\n                    return _ref.apply(this, arguments);\n                  };\n                }();\n\n                _context6.next = 3;\n                return ready();\n\n              case 3:\n                params = _context6.sent;\n\n              case 4:\n                if (!(params.v == 128)) {\n                  _context6.next = 10;\n                  break;\n                }\n\n                _context6.next = 7;\n                return ready();\n\n              case 7:\n                params = _context6.sent;\n                _context6.next = 4;\n                break;\n\n              case 10:\n                return _context6.abrupt(\"return\", params);\n\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function getBetParams() {\n        return _getBetParams2.apply(this, arguments);\n      }\n\n      return getBetParams;\n    }(),\n    settle: function settle(randomNumber, blockHash) {\n      settleBet({\n        randomNumber: randomNumber,\n        hash: blockHash\n      });\n    },\n    betEnd: function betEnd() {\n      this.getBalance();\n      this.state = 'bet';\n      this.betLoading = false;\n    },\n    getResult: function () {\n      var _getResult = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(id, blockHash) {\n        var result, sha3Mod100, wins;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return settleContract.methods.getInfo(id, blockHash).call();\n\n              case 2:\n                result = _context7.sent;\n                sha3Mod100 = _parseInt(result[1].toString()) || 100;\n                wins = sliceNumber(calcReward.eth(this.amountCache, this.numCache));\n                return _context7.abrupt(\"return\", {\n                  sha3Mod100: sha3Mod100,\n                  wins: wins\n                });\n\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getResult(_x, _x2) {\n        return _getResult.apply(this, arguments);\n      }\n\n      return getResult;\n    }(),\n    //获取赛马的视频地址\n    getVideo: function () {\n      var _getVideo = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8(_ref2) {\n        var wins, sha3Mod100, winner, video;\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                wins = _ref2.wins, sha3Mod100 = _ref2.sha3Mod100;\n                winner = this.mapResultHorse({\n                  betMask: this.numCache,\n                  wins: wins,\n                  sha3Mod100: sha3Mod100\n                });\n                _context8.next = 4;\n                return getVideoUrl({\n                  winner: winner\n                });\n\n              case 4:\n                video = _context8.sent;\n                return _context8.abrupt(\"return\", video);\n\n              case 6:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getVideo(_x3) {\n        return _getVideo.apply(this, arguments);\n      }\n\n      return getVideo;\n    }(),\n    // 手动提前计算\n    manualSettle: function () {\n      var _manualSettle = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9(id, blockHash) {\n        var _ref3, sha3Mod100, wins, result, video;\n\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return this.getResult(id, blockHash);\n\n              case 2:\n                _ref3 = _context9.sent;\n                sha3Mod100 = _ref3.sha3Mod100;\n                wins = _ref3.wins;\n                result = {\n                  sha3Mod100: sha3Mod100,\n                  wins: sha3Mod100 < this.numCache ? wins : 0\n                };\n                _context9.next = 8;\n                return this.getVideo(result);\n\n              case 8:\n                video = _context9.sent;\n                result.video = video;\n                this.result = result;\n                this.state = 'result';\n\n              case 12:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function manualSettle(_x4, _x5) {\n        return _manualSettle.apply(this, arguments);\n      }\n\n      return manualSettle;\n    }(),\n    submitVerify: function submitVerify() {\n      if (window.ethereum.networkVersion != 1 && !this.debug) {\n        this.$error(this.$t('ax'), 5000);\n        return false;\n      }\n\n      if (!window.ethereum.selectedAddress) {\n        this.$warn(this.$t('as'));\n        return false;\n      }\n\n      if (this.amount > this.balance) {\n        this.$warn(this.$t('at'));\n        return false;\n      }\n\n      return true;\n    },\n    betSubmit: function () {\n      var _betSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee11() {\n        var _this5 = this;\n\n        var params;\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (this.submitVerify()) {\n                  _context11.next = 2;\n                  break;\n                }\n\n                return _context11.abrupt(\"return\");\n\n              case 2:\n                this.betLoading = true;\n                _context11.next = 5;\n                return this.getBetParams();\n\n              case 5:\n                params = _context11.sent;\n                contract.methods.placeBet(params.betMask, params.modulo, params.commitLastBlock, params.commit, params.r, params.s).send({\n                  gas: '150000',\n                  gasPrice: web3.utils.toWei(this.gas + '', 'gwei'),\n                  from: this.account,\n                  value: web3.utils.toWei(this.amount + '', \"ether\")\n                }).catch(function (err) {\n                  if (err.message.indexOf('User denied') > -1) {\n                    _this5.$error(_this5.$t('au'));\n                  } else {\n                    _this5.$error(_this5.$t('av'));\n                  }\n\n                  _this5.betLoading = false;\n                });\n                contract.once('Commit', {},\n                /*#__PURE__*/\n                function () {\n                  var _ref4 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee10(error, event) {\n                    return regeneratorRuntime.wrap(function _callee10$(_context10) {\n                      while (1) {\n                        switch (_context10.prev = _context10.next) {\n                          case 0:\n                            console.log('commit');\n\n                            _this5.settle(params.id, event.blockHash);\n\n                            _this5.manualSettle(params.id, event.blockHash);\n\n                          case 3:\n                          case \"end\":\n                            return _context10.stop();\n                        }\n                      }\n                    }, _callee10);\n                  }));\n\n                  return function (_x6, _x7) {\n                    return _ref4.apply(this, arguments);\n                  };\n                }());\n\n              case 8:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function betSubmit() {\n        return _betSubmit.apply(this, arguments);\n      }\n\n      return betSubmit;\n    }(),\n    //根据数字匹配投注的马的编号\n    mapBetHorse: function mapBetHorse(num) {\n      return this.horseList.indexOf(_parseInt(num)) + 1;\n    },\n    // 根据结果匹配到马的编号\n    mapResultHorse: function mapResultHorse(_ref5) {\n      var betMask = _ref5.betMask,\n          wins = _ref5.wins,\n          sha3Mod100 = _ref5.sha3Mod100;\n      var betNum = this.mapBetHorse(betMask);\n\n      var result = _parseInt(sha3Mod100); //如果中奖，则直接返回投注的🐎\n\n\n      if (wins > 0) return betNum;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _getIterator(this.horseList.entries()), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              i = _step$value[0],\n              item = _step$value[1];\n\n          //如果大于或等于第一匹马\n          if (i == 0 && result >= item) return betNum == 1 ? 2 : 1; //小于当前且 >=后面; 则返回当前；另外循环不可能走到最后一位，因为那样的话，用户必然中奖\n\n          if (result < item && result >= this.horseList[i + 1]) return i + 1;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    },\n    prefixRecord: function prefixRecord(item) {\n      item._update = this.formatDate(item.updatedAt);\n      item._wins = sliceNumber(item.wins);\n      item._link = \"https://etherscan.io/tx/\".concat(item.betTrx);\n      item._bet = this.mapBetHorse(item.betMask);\n      item._result = item._result = \"<div class=\\\"result-num\\\">\".concat(this.mapResultHorse(item), \"</div>\");\n    },\n    getRecord: function () {\n      var _getRecord2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee12() {\n        var _this6 = this;\n\n        var res;\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return _getRecord();\n\n              case 2:\n                res = _context12.sent;\n\n                if (!(res === null)) {\n                  _context12.next = 5;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\");\n\n              case 5:\n                res.forEach(function (item) {\n                  _this6.prefixRecord(item);\n                });\n                this.recordList = res;\n\n              case 7:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function getRecord() {\n        return _getRecord2.apply(this, arguments);\n      }\n\n      return getRecord;\n    }(),\n    getMyRecord: function () {\n      var _getMyRecord2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee13() {\n        var _this7 = this;\n\n        var res;\n        return regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.next = 2;\n                return _getMyRecord({\n                  address: this.account\n                });\n\n              case 2:\n                res = _context13.sent;\n\n                if (!(res === null)) {\n                  _context13.next = 5;\n                  break;\n                }\n\n                return _context13.abrupt(\"return\");\n\n              case 5:\n                res.forEach(function (item) {\n                  _this7.prefixRecord(item);\n                });\n                this.myRecordList = res;\n\n              case 7:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function getMyRecord() {\n        return _getMyRecord2.apply(this, arguments);\n      }\n\n      return getMyRecord;\n    }(),\n    addRecord: function addRecord(res) {\n      var _this8 = this;\n\n      //如果是用户自己的投注，则延迟50s，等视频播放完成后再追加\n      if (res.address == this.account) {\n        setTimeout(function () {\n          _this8.prefixRecord(res);\n\n          _this8.recordList.unshift(res);\n\n          _this8.myRecordList.unshift(res);\n        }, 50000);\n      } else {\n        this.prefixRecord(res);\n        this.recordList.unshift(res);\n      }\n    },\n    formatDate: function formatDate(dateString) {\n      var date = new Date(dateString);\n      var s = \"\".concat(date.getHours(), \":\").concat(date.getMinutes(), \":\").concat(date.getMinutes());\n      return s.replace(/(\\b\\d\\b)/g, '0$1');\n    }\n  }\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('game',{ref:\"app\",attrs:{\"symbol\":\"ETH\",\"num\":_vm.num,\"amount\":_vm.amount,\"minAmount\":_vm.minAmount,\"maxAmount\":_vm.maxAmount,\"amountStep\":_vm.amountStep,\"balance\":_vm.balance,\"gas\":_vm.gas,\"betLoading\":_vm.betLoading,\"recordList\":_vm.recordList,\"myRecordList\":_vm.myRecordList,\"jackpotStart\":_vm.jackpotStart,\"jackpotEnd\":_vm.jackpotEnd,\"state\":_vm.state,\"result\":_vm.result,\"loading\":_vm.loading,\"horseList\":_vm.horseList},on:{\"update:num\":function($event){_vm.num=$event},\"update:amount\":function($event){_vm.amount=$event},\"bet\":_vm.betSubmit,\"ended\":_vm.betEnd,\"addRecord\":_vm.addRecord}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import io from './io'; // 获取油费\n\nexport var getGasPrice = function getGasPrice() {\n  return io.get('/api/v1.0/horseracing/ethereum/getSuggestGasPrice');\n}; // 获取下注参数\n\nexport var getBetParams = function getBetParams(_ref) {\n  var betmask = _ref.betmask,\n      _ref$modulo = _ref.modulo,\n      modulo = _ref$modulo === void 0 ? 100 : _ref$modulo,\n      amount = _ref.amount,\n      address = _ref.address;\n  return io({\n    method: 'get',\n    url: '/api/v1.0/horseracing/ethereum/getPlaceBetParams',\n    params: {\n      betmask: betmask,\n      modulo: modulo,\n      amount: amount,\n      address: address\n    }\n  });\n}; // 结算\n\nexport var settleBet = function settleBet(params) {\n  return io({\n    method: 'get',\n    url: '/api/v1.0/horseracing/ethereum/settleBet',\n    params: params\n  });\n}; // 获取所有投注记录\n\nexport var getRecord = function getRecord() {\n  return io({\n    method: 'get',\n    url: '/api/v1.0/horseracing/ethereum/getBetsAll'\n  });\n}; // 获取我的投注记录\n\nexport var getMyRecord = function getMyRecord(_ref2) {\n  var address = _ref2.address;\n  return io({\n    method: 'get',\n    url: '/api/v1.0/horseracing/ethereum/getBetsMe',\n    params: {\n      address: address\n    }\n  });\n}; // 获取下注系数\n\nexport var getAmountParams = function getAmountParams() {\n  return io.get('/api/v1.0/horseracing/ethereum/getSuggestBetAmount');\n}; // 获取视频地址\n\nexport var getVideoUrl = function getVideoUrl(_ref3) {\n  var winner = _ref3.winner;\n  return io({\n    method: 'get',\n    url: '/api/v1.0/horseracing/ethereum/getVideoUrl',\n    params: {\n      winner: winner\n    }\n  });\n};","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Eth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Eth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Eth.vue?vue&type=template&id=8a362cdc&\"\nimport script from \"./Eth.vue?vue&type=script&lang=js&\"\nexport * from \"./Eth.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './views/horse/Eth.vue'\nimport i18n from '@/js/lang'\nimport Notification from '@/components/notification'\nimport \"@/fonts/iconfont.js\"\n\n\nVue.config.productionTip = false\n\nVue.use(Notification)\n\n\nnew Vue({\n  i18n,\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}